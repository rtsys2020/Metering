/**********************************************************************
* $Id$		firmware.h			2013-10
*//**
* @file		firmware.h
* @brief	
*			
* @version	1.0
* @date		10. decm. 2014
* @author	s.rezaee
**********************************************************************/
#ifndef FIRMWARE_H
#define FIRMWARE_H
/* Peripheral group ----------------------------------------------------------- */
/** @addtogroup template
 * @{
 */

#include "includes.h"

#include "at45db32.h"
/*
*********************************************************************************************************
*                                               DATA TYPES
*********************************************************************************************************
*/

/*
*********************************************************************************************************
*                                               DEFINIATION
*********************************************************************************************************
*/
typedef struct
{
	uint8_t data[512];
	uint16_t crc16;
	uint16_t addr_flag;
}firmware_page_t;

/*
*********************************************************************************************************
*                                            GLOBAL VARIABLES
*********************************************************************************************************
*/

/*
*********************************************************************************************************
*                                                 MACRO'S
*********************************************************************************************************
*/

/*
*********************************************************************************************************
*                                           DEFINITIONS
*********************************************************************************************************
*/
Status Firmware_ReadFromSPI_Flash(firmware_page_t* page,uint16_t page_addr);
Status Firmware_WriteToSPI_Flash(firmware_page_t* page,uint16_t page_addr);
Status Firmware_CRC_Chk(firmware_page_t* page);
/*
*********************************************************************************************************
*                                           FUNCTION PROTOTYPES
*********************************************************************************************************
*/


/*
EOF
*/
#endif

